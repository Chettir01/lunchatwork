Index: example/app.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Avatar from '../src/avatar.jsx'\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    const src = SOURCE_PATH + '/einshtein.jpg'\n    this.state = {\n      preview: null,\n      defaultPreview: null,\n      src\n    }\n    this.onCrop = this.onCrop.bind(this)\n    this.onCropDefault = this.onCropDefault.bind(this)\n    this.onClose = this.onClose.bind(this)\n    this.onCloseDefault = this.onCloseDefault.bind(this)\n  }\n\n  onCropDefault(preview) {\n    this.setState({defaultPreview: preview})\n  }\n\n  onCrop(preview) {\n    this.setState({preview})\n  }\n\n  onCloseDefault() {\n    this.setState({defaultPreview: null})\n  }\n\n  onClose() {\n    this.setState({preview: null})\n  }\n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row\" style={{backgroundColor: '#a75d61', padding: '8px 0'}}>\n          <div className=\"col-2\"/>\n          <div className=\"col-8\">\n            <img src={SOURCE_PATH + '/user.png'} alt=\"\" style={{ marginTop: '3px', marginRight: '15px', float: 'left', width: '36px', height: '36px'}}/>\n            <h1 style={{ marginTop: '3px', color: 'white', fontWeight: 300, fontSize: '2rem'}}>React avatar editor</h1>\n          </div>\n          <div className=\"col-2\"/>\n        </div>\n        <div className=\"row\" style={{marginTop: '45px'}}>\n          <div className=\"col-2\"/>\n          <div className=\"col-8\">\n            <h4>Default usage</h4>\n          </div>\n          <div className=\"col-2\"/>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-2\"/>\n          <div className=\"col-5\">\n            <Avatar\n              width={390}\n              height={295}\n              cropRadius={150}\n              onCrop={this.onCropDefault}\n              onClose={this.onCloseDefault}\n              // src={this.state.src}\n            />\n          </div>\n          <div className=\"col-2\">\n            <h5>Preview</h5>\n            <img alt=\"\" style={{width: '150px', height: '150px'}} src={this.state.defaultPreview}/>\n          </div>\n          <div className=\"col-3\"/>\n        </div>\n        <div className=\"row\" style={{marginTop: '45px'}}>\n          <div className=\"col-2\"/>\n          <div className=\"col-8\">\n            <h4>With provided <code>src</code> property</h4>\n          </div>\n          <div className=\"col-2\"/>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-2\"/>\n          <div className=\"col-5\">\n            <Avatar\n              width={390}\n              height={295}\n              cropRadius={150}\n              onCrop={this.onCrop}\n              onClose={this.onClose}\n              src={this.state.src}\n            />\n          </div>\n          <div className=\"col-2\">\n            <h5>Preview</h5>\n            <img alt=\"\" style={{width: '150px', height: '150px'}} src={this.state.preview}/>\n          </div>\n          <div className=\"col-3\"/>\n        </div>\n        <div className=\"row\" style={{backgroundColor: '#b3aeae', marginTop: '45px'}}>\n          <div className=\"col-2\"/>\n          <div className=\"col-8\" style={{margin: '25px 0'}}>\n            <a style={{color: '#ffffff'}} href=\"https://github.com/kirill3333/react-avatar\">Fork me on Github</a>\n          </div>\n          <div className=\"col-2\"/>\n        </div>\n      </div>\n    )\n  }\n}\n\nReactDOM.render(<App /> , document.getElementById('root'))
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- example/app.jsx	(revision 49b36f70c2f7cc25b6c2c591c5ec1d7700ba8187)
+++ example/app.jsx	(date 1512028277000)
@@ -18,6 +18,61 @@
     this.onCloseDefault = this.onCloseDefault.bind(this)
   }
 
+  componentDidMount() {
+    // this.drawBars()
+  }
+
+  drawBars() {
+    const canvas = this.refs.canvas
+    const ctx = canvas.getContext('2d')
+    ctx.clearRect(0, 0, canvas.width, canvas.height)
+
+    const img = new Image()
+    img.onload = () => {
+      for (let i = 0; i < 10; i++) {
+        ctx.setLineDash([8, 4])
+        ctx.strokeStyle = "rgba(255, 0, 0, 1)"
+        ctx.clearRect(0, 0, canvas.width, canvas.height)
+        ctx.strokeRect(i * 10, i * 10, 100, 100)
+        ctx.fill()
+        ctx.fillStyle = "rgba(128, 128, 128, 0.5)"
+        ctx.fillRect(0, 0, 300, 300)
+        ctx.clearRect(i * 10, i * 10, 99, 99)
+        ctx.fill()
+      }
+
+      var rects = [
+        {x: 10, y: 10, w: 200, h: 50},
+        {x: 50, y: 70, w: 150, h: 30}    // etc.
+      ], i = 0, r;
+
+      // render initial rects.
+      while(r = rects[i++]) ctx.rect(r.x, r.y, r.w, r.h);
+      ctx.fillStyle = "blue"; ctx.fill();
+
+      canvas.onmousemove = (e) => {
+        var rect = canvas.getBoundingClientRect(),
+          x = e.clientX - rect.left,
+          y = e.clientY - rect.top,
+          i = 0, r;
+
+        ctx.clearRect(0, 0, canvas.width, canvas.height); // for demo
+
+        while(r = rects[i++]) {
+          // add a single rect to path:
+          ctx.beginPath();
+          ctx.rect(r.x, r.y, r.w, r.h);
+
+          // check if we hover it, fill red, if not fill it blue
+          ctx.fillStyle = ctx.isPointInPath(x, y) ? "red" : "blue";
+          ctx.fill();
+        }
+      }
+
+    }
+    img.src = this.state.src
+  }
+
   onCropDefault(preview) {
     this.setState({defaultPreview: preview})
   }
@@ -94,6 +149,11 @@
             <img alt="" style={{width: '150px', height: '150px'}} src={this.state.preview}/>
           </div>
           <div className="col-3"/>
+        </div>
+        <div className="row">
+          <div style={{backgroundImage: `url(${this.state.src})`, backgroundSize: 300, width: 300, height: 300}}>
+            <canvas ref='canvas' width={300} height={300} />
+          </div>
         </div>
         <div className="row" style={{backgroundColor: '#b3aeae', marginTop: '45px'}}>
           <div className="col-2"/>
